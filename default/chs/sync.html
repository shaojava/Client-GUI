<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="../common/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../common/js/lib/jquery-ui/jquery-ui.css"/>
    <link rel="stylesheet" type="text/css" href="../common/js/lib/jquery-ui/jquery-ui-gk.css"/>
    <link rel="stylesheet" type="text/css" href="../common/js/lib/zTree/css/zTreeStyle/zTreeStyle.css"/>
    <script type="text/javascript" src="../common/js/util.js"></script>
    <script type="text/javascript" src="../common/js/jquery.js"></script>
    <script type="text/javascript" src="../common/js/jquery.tmpl.min.js"></script>
    <script type="text/javascript" src="../common/js/lib/jquery-ui/jquery-ui.js"></script>
    <script type="text/javascript" src="../common/js/lib/jquery-ui/jquery.gkDialog.js"></script>
    <script type="text/javascript" src="../common/js/lib/zTree/js/jquery.ztree.core-3.5.min.js"></script>
    <script type="text/javascript" src="../common/js/droplist.js"></script>
    <script type="text/javascript" src="../common/js/droplist.js"></script>
    <script type="text/javascript" src="../common/js/bootstrap_customize.min.js"></script>
    <script type="text/javascript" src="../common/js/interface.js"></script>
    <script type="text/javascript" src="../common/js/sync.js"></script>
    <script type="text/javascript">
        $(function () {
            var userInfo = gkClientInterface.getUserInfo();
            //console.log(userInfo);
            var dateStr = new Date().toUTCString();
            var sign = gkClientInterface.getAuthorization('list','',dateStr);
            $.ajax(
                    {
                        url:'http://r2.gokuai.com/',
                        type: 'LIST',
                        dataType: 'json',
                        headers:{
                            'x-gk-mount':userInfo.mount_id,
                            'x-gk-dir':1,
                            'Date':dateStr,
                            'Authorization':sign
                        },
                        success: function (data) {
                            console.log(data);
                        },
                        error:function(){

                        }
                    }
            );


            initWebHref();
            $('body').tooltip({
                selector: '.gktooltip'
            });
            gkClientSync.init();
        })
    </script>
</head>

<body id="sync_page">
<div class="wrapper">
    <h1>设置文件夹的同步</h1>

    <div class="list_wrapper">
        <div class="list_header">
            <div class="td cloud_uri">
                <i></i>
                <span>云端位置</span>
            </div>
            <div class="td local_uri">
                <i></i>
                <span>本地位置</span>
            </div>
            <div class="td opts">
                <button class="btn blue_btn add_new_sync">+ 添加</button>
            </div>
        </div>
    </div>
</div>
<script type="text/x-jquery-tmpl" id="addLinkDialogTmpl">
    <div class="add_link_content">
        <div class="cloud_set_wrapper">
            <div class="d_title"><i></i>选择云端文件夹</div>
            <div class="d_content select_file_wrapper">
                <div class="f_l file_tree_wrapper">
                    <div class="file_tree"></div>
                </div>
                <div class="f_l selected_cloud_file_wrapper">

                </div>
            </div>

        </div>
        <div class="local_set_wrapper">
            <div class="d_title"><i></i>选择本地文件夹</div>
            <div class="d_content goto_select_file">
                <div>
                    <button class="btn blue_btn select_local_file">选择本地位置</button>
                </div>
                <div>
                    设置云端文件夹同步到本地的位置
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-jquery-tmpl" id="fileListTmpl">
    <div class="list">
        {{each(i,v) files}}
        <div class="sync_item c_f_after"
        {{each(key,n) v}}data-${key}="${n}" {{/each}}>
        <div class="td cloud_uri">
            <i class="icon ${v.icon}"></i>
            <a href="${v.cloud_url}" data-sso="1" title="${v.cloud_uri}" class="gktooltip gk_blank name">${v.cloud_filename}</a>
        </div>
        <div class="td local_uri">
            <i class="icon"></i>
            <a href="${v.local_url}" title="${v.local_uri}" class="gktooltip name">${v.local_filename}</a>
            <button class="btn edit_local_uri">修改</button>
        </div>
        <div class="td opts">
            <a href="javascript:void(0)" class="set"></a>
            <ul class="dropdown_menu dropdown_main dropdown_menu_set_sync">
                <li>
                    <a href="javascript:void(0)" title="取消同步该文件夹下的部分文件" data-placement="left"
                       class="gktooltip select_to_sync">
                        选择性同步
                    </a>
                </li>
                {{if v.removeAvaiable}}
                <li>
                    <a href="javascript:void(0)" title="停止与云端文件夹的同步" data-placement="left"
                       class="gktooltip remove_sync">取消同步</a>
                </li>
                {{/if}}
            </ul>
        </div>
    </div>
    {{/each}}
    </div>
</script>
</body>

</html>